https://www.mkyong.com/java/quartz-joblistener-example/

Description
VENDOR_TRIP_LEG_INTEGRATION needs to also have the VENDOR_APPLICATION_CODE column added as a primary key. This will allow multiple records (one per vendor) in the event of a trip getting reassigned from one to the other.

As part of this change, the triggers that track TP_CODE changes on the TRIP_LEG table will need to be updated to support adding a new row/not updating the existing VENDOR_APPLICATION_CODE column.

For example, if a trip is currently assigned to Lyft (vendor app code 1) and then gets assigned to someone else (without integration type 1/2), then the original record in the VENDOR_TRIP_LEG_INTEGRATION table should be updated to status 8, but the TP Code and vendor app code should not change on the record, since that instance of the trip for the vendor is now canceled.

Below are the triggers that may need to be updated to support the new table structure:
ITRIG_TRIP_LEG_VENDOR_PROVIDER
UTRIG_TRIP_LEG_VENDOR_PROVIDER_CANCEL
UTRIG_TRIP_LEG_VENDOR_PROVIDER_PU_TIME
UTRIG_TRIP_LEG_VENDOR_PROVIDER_TP_CODE
UTRIG_TRIP_LEG_VENDOR_PROVIDER_TP_CODE_2

Below are the stored procedures that may need to be updated to support the new table structure:
P_RESET_STUCK_VENDOR_TRIP_LEG_INTEGRATIONS (this one should be removed in   BELL-627 TO DO )
P_VENDOR_COMPLETIONS
P_VENDOR_COMPLETIONS_ALL
